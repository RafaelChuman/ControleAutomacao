import matplotlib.pyplot as plt
import numpy as np
import control as ctl
from control import (TransferFunction)
plt.rcParams['figure.figsize'] = (8, 8)  # tamanho do gráfico
# tamanho da letraimport matplotlib.pyplot as plt
plt.rcParams['font.size'] = 14

# função transferência
K = TransferFunction([1], [1, 0])
G = TransferFunction([1, 2], [1, 4, 3])
H = TransferFunction([1, 6], [1, 7])

MF = ctl.feedback(K*G, H)
print('MF=', MF)

MA = K*G*H
print('MA=', MA)

print('Polos Malha aberta:', ctl.pole(MA))

# Diagrama de Nyquist
plt.figure(1)
plt.title("Nyquist plot")
ctl.nyquist_plot(MA, plot=True)
plt.show()

print('Polos Malha fechada:', ctl.pole(MF))


# ---------------------------------------------


# função transferência
# K = 0.5
K = 1
G = TransferFunction([1,-1], [1, 2.5, 4])

MF = ctl.feedback(K*G, 1)
print('MF=', MF)

MA = K*G
print('MA=', MA)

print('Polos Malha aberta:', ctl.pole(MA))

# Diagrama de Nyquist
plt.figure(1)
plt.title("Nyquist plot")
ctl.nyquist_plot(MA, plot=True)
plt.show()

print('Polos Malha fechada:', ctl.pole(MF))
